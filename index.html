<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=4, initial-scale=1.0">
    <title>Promise.all实现</title>
</head>
<body>
    
</body>
</html>
<script src="./all.js"></script>
<script>
    const p1 = new Promise((resolve, reject) => {
        setTimeout(() => resolve('This is p1'), 3000)
    })
    const p2 = new Promise((resolve, reject) => {
        setTimeout(() => resolve('This is p2'), 0)
    })
    // const p3 = Promise.reject('This is reason')
    const p4 = new Set(['set'])
    const p5 = new Map([['name', 'map']])
    /**
     * 测试用例
     * 没有传参
    */
   // const p = Promise.all()
   // const myP = Promise.kAll()

   /**
    * 非数组
    */
    // const params = function(){}
    /**
     * 非Promise对象数组
    */
    // const params = [function(){}]
    // const params = []
    const params = [p1, p2, p4, p5]
    // const params = [1,null,undefined, {},new Set()]
    const p = Promise.all(params)
    const myP = Promise.promiseAll(params)
    console.log(p, '***********\n', myP);
</script>